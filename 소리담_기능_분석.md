# 소리담 → 오픽톡닥 기능 이관 분석

> 이 문서는 소리담에서 오픽톡닥으로 **무엇을 가져오고, 무엇을 새로 만드는지** 요약한다.
> 각 항목의 상세 스펙은 `소리담_분석_결과.md`를 참조한다.

---

## 소리담 분석 결과 문서 안내

상세 분석은 `소리담_분석_결과.md` (60KB)에 정리되어 있다. 아래 인덱스를 보고 필요한 섹션을 찾아볼 것.

| # | 섹션 | 내용 요약 | 활용 시점 |
|---|------|----------|----------|
| 1 | 프로젝트 구조 | 소리담 디렉토리 구조, 기술 스택 비교표 | 프로젝트 초기 설정 |
| **2** | **핵심 코어: master_questions** | **510개 질문 DB, question_id 코드 시스템, answer_type 10가지, 음성 시스템** | **모든 모듈 개발 시 필수 참조** |
| **3** | **데이터 파이프라인: custom_mode_questions** | **DB 트리거 자동 콤보 생성, 모의고사 출제 연결, find_similar_questions RPC** | **데이터랩 + 모의고사 개발 시** |
| 4 | 모듈별 버전 매핑 | 소리담 최종 버전 → 오픽톡닥 v1 매핑표 | 이관 대상 확인 |
| 5 | 모듈 의존성 & 이관 순서 | 데이터랩→스크립트→모의고사→AI튜터→내스크립트→쉐도잉 | 개발 순서 결정 |
| 6 | 데이터랩 상세 | 페이지 구조, 3단계 마법사, API 7개, DB 테이블 3개 | 데이터랩 개발 시 |
| 7 | 모의고사 상세 | V7 평가시스템, 62개 체크박스, 규칙엔진, FACT 점수 | 모의고사 개발 시 |
| 8 | AI 튜터 상세 | 8대 스킬, 40개 원인코드, Phase 1~3, 듀얼 튜터 | AI 튜터 개발 시 |
| 9 | 스크립트 생성 상세 | GPT-4 생성, 패키지(TTS+PDF+JSON), 권한 체크 | 스크립트 개발 시 |
| 10 | 내 스크립트 상세 | 3패널 구조, 오디오 동기화, 가라오케 모드 | 내 스크립트 개발 시 |
| 11 | 쉐도잉 상세 | 4모드, Whisper STT + GPT-4 평가, 6개 영역 점수 | 쉐도잉 개발 시 |
| 12 | 공통 인프라 | AIPermissionService, authStore, 공유 API | 모든 모듈 공통 |
| 13 | DB 스키마 종합 | 이관 테이블 23개 + 트리거/RPC 2개, 미이관 목록 | DB 설계 시 |
| 14 | Edge Functions 종합 | 이관 대상 ~42개 (모듈별 분류) | API 개발 시 |
| 15 | 이관 주의사항 | 버전 정리, 권한 변경, 스토리지, 외부 서비스 | 이관 전체 |

---

## 이관 대상 기능

| # | 모듈 | 소리담 최종 버전 | 오픽톡닥 | 분석결과 섹션 |
|---|------|----------------|---------|-------------|
| 1 | **데이터랩** | 단일 버전 | `data-lab` (v1) | §6 |
| 2 | **스크립트 생성** | v6 (generate-script-v6) | `script-gen` (v1) | §9 |
| 3 | **모의고사** | v7 평가 시스템 | `mock-test` (v1) | §7 |
| 4 | **AI 튜터** | v3 (진단→처방→훈련) | `ai-tutor` (v1) | §8 |
| 5 | **내 스크립트** | 단일 버전 (3패널) | `my-scripts` (v1) | §10 |
| 6 | **쉐도잉 훈련** | 단일 버전 (4모드) | `shadowing` (v1) | §11 |

### 핵심 데이터 (코어)

| 항목 | 내용 | 분석결과 섹션 |
|------|------|-------------|
| master_questions | 510개 OPIc 질문, 시스템 전체의 SSOT | **§2** |
| custom_mode_questions | DB 트리거 자동 콤보 생성 | **§3** |
| answer_type 10가지 | 평가/훈련/스크립트 전체 분기 기준 | **§2** |

---

## 미이관 기능

| 기능 | 소리담 경로 | 사유 |
|------|------------|------|
| 로그인/회원가입 | `login/`, `signup/` | 업계 표준으로 새로 구축 완료 |
| 비밀번호 찾기 | `forgot-password/` | 새로 구축 완료 |
| AI 훈련 (레거시) | `ai-training-legacy/` | AI 튜터로 대체 |
| 강의 | `lectures/` | 미포함 |
| 톡리시 | `talklish/` | 미포함 |
| 구독/결제 | `subscription/*` | 포트원으로 새로 구축 |
| 시험 게시판 | `test-board/` | 미포함 |
| 튜토리얼/인트로 | `tutorials/`, `intro/` | 미포함 |
| Eva-Tutor | `ai-tutor/eva-tutor/` | 실시간 WebRTC, 향후 검토 |

---

## 새로 구축 기능

| 기능 | 방식 | 상태 |
|------|------|------|
| 인증 (로그인/회원가입/OAuth) | Supabase Auth | ✅ 완료 |
| 랜딩 페이지 | Nudge 스타일 + 3T 브랜드 | ✅ 완료 |
| 이용약관/개인정보/환불규정 | 법적 페이지 | ✅ 완료 |
| 요금제 페이지 | 무료/베이직/프리미엄 | ✅ 완료 |
| 결제/구독 | 포트원 V2 + KG이니시스 | 미착수 |
| 관리자 페이지 | 핵심 기능 완성 후 결정 | 미착수 |

---

## 기술 스택 비교

| 항목 | 소리담 | 오픽톡닥 |
|------|--------|---------|
| Next.js | 16.0.7 | 16.1.6 |
| React | 19.2.1 | 19.2.3 |
| Supabase | @supabase/ssr 0.7.0 | @supabase/ssr 0.8.0 |
| Tailwind | 3.4.0 | **4.x** |
| Zustand | 5.0.6 | 5.0.11 |
| React Query | 5.83.0 | 5.90.21 |
| React Hook Form | 7.60.0 | 7.71.1 |
| Zod | 4.0.5 | 4.3.6 |

### 추가 설치 필요 패키지

- `framer-motion` — 애니메이션
- `lucide-react` — 아이콘
- `recharts` / `chart.js` — 차트
- `recordrtc` — 녹음
- `sonner` — 토스트 알림
- `class-variance-authority` / `clsx` / `tailwind-merge` — 스타일 유틸리티

---

*최종 업데이트: 2026-02-19*
