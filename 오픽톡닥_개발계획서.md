# 오픽 톡닥 (OPIc Talk-Doc) 개발 계획서

---

## 개발 원칙

- **인증/결제**: 소리담 코드 복사 X → 업계 표준 방식으로 새로 구축
- **핵심 기능**: 소리담에서 필요한 기능만 선별하여 이관 + 리팩토링
- **경로 구조**: 오픽 톡닥에 맞게 새로 설계
- **DB**: Supabase PostgreSQL + RLS (새로 설계)
- **UI**: Tailwind CSS 4.x 기반, 오픽 톡닥 브랜드 디자인 적용

---

## Phase 1. 인증 시스템 (기반)

> 모든 기능의 기반. Supabase Auth를 업계 표준 방식으로 구축.

### 1-1. Supabase Auth 설정

| 항목 | 방식 |
|------|------|
| 이메일/비밀번호 | Supabase Auth 기본 |
| 소셜 로그인 | Google, Kakao (Supabase OAuth) |
| 이메일 인증 | Supabase 내장 이메일 확인 |
| 비밀번호 재설정 | Supabase 내장 리셋 플로우 |
| 세션 관리 | @supabase/ssr + middleware.ts |

### 1-2. 페이지 구성

| 페이지 | 경로 | 설명 |
|--------|------|------|
| 로그인 | `/login` | 이메일 + 소셜 로그인 |
| 회원가입 | `/signup` | 이메일 가입 + 이메일 인증 |
| 비밀번호 찾기 | `/forgot-password` | 비밀번호 재설정 링크 발송 |
| 비밀번호 재설정 | `/reset-password` | 새 비밀번호 입력 |
| 프로필 설정 | `/profile/setup` | 최초 가입 시 프로필 입력 |
| 프로필 | `/profile` | 프로필 조회/수정 |
| Auth 콜백 | `/auth/callback` | OAuth 리다이렉트 처리 |
| Auth 확인 | `/auth/confirm` | 이메일 확인 처리 |

### 1-3. DB 테이블

| 테이블 | 용도 |
|--------|------|
| `profiles` | 사용자 프로필 (auth.users 확장) |
| `subscriptions` | 구독/결제 상태 |

### 1-4. 구현 항목

- [ ] Supabase Auth 프로바이더 설정 (Google, Kakao)
- [ ] 로그인/회원가입 페이지 UI
- [ ] 미들웨어 세션 관리 (인증 보호 라우트)
- [ ] AuthProvider 컨텍스트
- [ ] 프로필 설정/수정 페이지
- [ ] RLS 정책 설정

---

## Phase 2. 랜딩 페이지 & 필수 페이지

> 카드사 심사 요건 충족 + 서비스 소개

### 2-1. 페이지 구성

| 페이지 | 경로 | 설명 |
|--------|------|------|
| 랜딩 (메인) | `/` | 서비스 소개, CTA, 요금제 |
| 요금제 | `/pricing` | 상품 1~3개 (가격 포함) |
| 이용약관 | `/terms` | 소리담 참고하여 작성 |
| 개인정보처리방침 | `/privacy` | 포트원 위탁업체 고지 포함 |
| 환불 규정 | `/refund` | 카드사 심사 필수 |

### 2-2. 공통 레이아웃

| 컴포넌트 | 설명 |
|----------|------|
| Navbar | 로고, 네비게이션, 로그인/프로필 |
| Footer | 사업자정보 (상호명, 사업자번호, 연락처, 주소, 대표자명, 통신판매신고번호) |

### 2-3. 구현 항목

- [ ] 랜딩 페이지 디자인 & 구현
- [ ] Navbar / Footer 공통 컴포넌트
- [ ] 요금제 페이지 (상품 1~3개)
- [ ] 이용약관 페이지 (소리담 참고)
- [ ] 개인정보처리방침 페이지 (포트원 위탁 고지)
- [ ] 환불 규정 페이지
- [ ] 사업자정보 푸터 (카드사 심사 필수)

---

## Phase 3. 핵심 기능 (소리담 이관)

> 소리담에서 선별한 기능을 오픽 톡닥에 맞게 이관

### 3-1. 모의고사

| 페이지 | 설명 | 소리담 참고 |
|--------|------|------------|
| 모의고사 시작 | 모의고사 시작/설정 | `training-lab/mock-test/` |
| 모의고사 세션 | 실제 시험 진행 | MockTestSession 컴포넌트 |
| 모의고사 결과 | 결과 확인 | MockTestResult 컴포넌트 |
| 모의고사 리포트 | 상세 리포트 | `training-lab/mock-test/report/` |
| 나의 모의고사 | 모의고사 이력 목록 | `training-lab/my-mock-tests-v6/` (v1부터 시작) |

### 3-2. AI 튜터

| 페이지 | 설명 | 소리담 참고 |
|--------|------|------------|
| AI 튜터 메인 | 세션 목록/시작 | `training-lab/ai-tutor/` |
| 진단 | 레벨 진단 | `ai-tutor/[sessionId]/diagnosis/` |
| 훈련 | AI 기반 훈련 | `ai-tutor/[sessionId]/training/` |
| 레벨별 훈련 | 레벨별 세부 훈련 | `ai-tutor/.../level/[level]` |
| 테스트 | 훈련 후 테스트 | `ai-tutor/.../test/` |

### 3-3. 내 스크립트

| 페이지 | 설명 | 소리담 참고 |
|--------|------|------------|
| 스크립트 관리 | 3패널 구조 (목록/편집/미리보기) | `training-lab/my-scripts/` |

### 3-4. 쉐도잉 훈련

| 페이지 | 설명 | 소리담 참고 |
|--------|------|------------|
| 쉐도잉 | 영상 따라하기 훈련 | `training-lab/shadowing/[packageId]` |

### 3-5. 데이터랩

| 페이지 | 설명 | 소리담 참고 |
|--------|------|------------|
| 데이터 분석 | 학습 데이터 분석 | `data-lab/analysis/` |
| 나의 제출물 | 제출물 이력 | `data-lab/submissions/my-list` |

### 3-6. 구현 항목

- [ ] DB 테이블 설계 (모의고사, AI 튜터, 스크립트, 쉐도잉, 데이터랩)
- [ ] 모의고사 기능 이관 + 리팩토링
- [ ] AI 튜터 기능 이관 + 리팩토링
- [ ] 내 스크립트 기능 이관 + 리팩토링
- [ ] 쉐도잉 훈련 기능 이관 + 리팩토링
- [ ] 데이터랩 기능 이관 + 리팩토링

---

## Phase 4. 결제 연동

> 포트원 V2 기반 결제 시스템 새로 구축

### 4-1. 페이지 구성

| 페이지 | 경로 | 설명 |
|--------|------|------|
| 결제 | `/payment` | 포트원 V2 결제창 호출 |
| 결제 완료 | `/payment/complete` | 결제 성공/실패 처리 |
| 구독 관리 | `/subscription` | 구독 상태 조회/해지 |

### 4-2. 결제 수단

| PG사 | 수단 |
|------|------|
| KG이니시스 | 신용카드 일반결제 / 정기결제 |
| 카카오페이 | 간편결제 |
| 네이버페이 | 간편결제 (결제형) |
| 토스페이 | 간편결제 |

### 4-3. 구현 항목

- [ ] 포트원 V2 SDK 연동
- [ ] 결제 페이지 구현
- [ ] 결제 완료/실패 처리 (웹훅)
- [ ] 구독 상태 관리 (DB + Supabase RLS)
- [ ] 구독 관리 페이지

---

## Phase 5. 관리자 페이지

> Phase 1~4 완성 후 필요한 관리 기능 결정

- [ ] 관리자 인증 (역할 기반)
- [ ] 필요한 관리 기능 결정 (Phase 3 완성 후)
- [ ] 관리자 대시보드 구축

---

## 개발 순서 요약

```
Phase 1 (인증) → Phase 2 (랜딩/필수 페이지) → Phase 3 (핵심 기능) → Phase 4 (결제) → Phase 5 (관리자)
```

| Phase | 내용 | 의존성 |
|-------|------|--------|
| **1** | 인증 시스템 | 없음 (최우선) |
| **2** | 랜딩 + 필수 페이지 | Phase 1 (로그인 연동) |
| **3** | 핵심 기능 이관 | Phase 1 (인증 필요) |
| **4** | 결제 연동 | Phase 2 (요금제 페이지), Phase 3 (구독 대상 기능) |
| **5** | 관리자 페이지 | Phase 1~4 완성 후 |


디자인 소스
  Sources:
  - https://www.saasframe.io/blog/10-saas-landing-page-trends-for-2026-with-real-examples
  - https://www.webstacks.com/blog/edtech-websites
  - https://www.saasframe.io/categories/for-education-page
---

*최종 업데이트: 2026-02-18*
*상태: 계획 수립*
